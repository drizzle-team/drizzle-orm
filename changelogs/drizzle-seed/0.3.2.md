## Bug fixes

- https://github.com/drizzle-team/drizzle-orm/issues/3914

Both the `seed` and `reset` functions didn't include `LibSQLDatabase<any>` in their generic type parameters.
As a result, the `seed` function accepts a `db` parameter like this:

```ts
import { drizzle } from "drizzle-orm/libsql";
import * as schema from "./schema.ts";

const db = drizzle({
  connection: {
    url: "",
    authToken: "",
  },
});

await seed(db, schema);
```

But it will reject a `db` parameter defined like this:

```ts
import { drizzle } from "drizzle-orm/libsql";
import * as schema from "./schema.ts";

const db = drizzle({
  schema,
  connection: {
    url: "",
    authToken: "",
  },
});

await seed(db, schema);
```

- https://github.com/drizzle-team/drizzle-orm/issues/4194

drizzle-seed misinterpreted `realEstateTypeEnum` enum as a `real` type.

- https://github.com/drizzle-team/drizzle-orm/issues/3915

drizzle seed breaks serial sequence sync with Postgres serial type.

## Features

- ignore column in refinements

Now you can let drizzle-seed know if you want to ignore column during seeding.

```ts
// schema.ts
import { integer, pgTable, text } from "drizzle-orm/pg-core";

export const users = pgTable("users", {
  id: integer().primaryKey(),
  name: text().notNull(),
  age: integer(),
  photo: text(),
});
```

```ts
// index.ts
import { drizzle } from "drizzle-orm/node-postgres";
import { seed } from "drizzle-seed";
import * as schema from "./schema.ts";

async function main() {
  const db = drizzle(process.env["DATABASE_URL"]!);
  await seed(db, schema).refine((f) => ({
    users: {
      count: 5,
      columns: {
        name: f.fullName(),
        photo: false, // the photo column will not be seeded, allowing the database to use its default value.
      },
    },
  }));
}

main();
```

## Improvements

- added minTime, maxTime parameters to `time` generator

```ts
await seed(db, { timeTable: schema.timeTable }).refine((funcs) => ({
  timeTable: {
    count,
    columns: {
      time: funcs.time({
        minTime: "13:12:13",
        maxTime: "15:12:13",
      }),
    },
  },
}));
```

- added minTimestamp, maxTimestamp parameters to `timestamp` generator

```ts
await seed(db, { timestampTable: schema.timestampTable }).refine((funcs) => ({
  timestampTable: {
    count,
    columns: {
      timestamp: funcs.timestamp({
        minTimestamp: "2025-03-07 13:12:13.123Z",
        maxTimestamp: "2025-03-09 15:12:13.456Z",
      }),
    },
  },
}));
```

- added minDatetime, maxDatetime parameters to `datetime` generator

```ts
await seed(db, { datetimeTable: schema.datetimeTable }).refine((funcs) => ({
  datetimeTable: {
    count,
    columns: {
      datetime: funcs.datetime({
        minDatetime: "2025-03-07 13:12:13Z",
        maxDatetime: "2025-03-09 15:12:13Z",
      }),
    },
  },
}));
```

- exported `AbstractGenerator` so that users can build their own custom generator classes.

- drizzle-seed now updates PostgreSQL sequences after seeding.

  drizzle-seed iterates through each column in a table, selects columns of type smallint, integer, bigint, smallserial, serial, or bigserial, and (if a sequence exists) updates it to the columnâ€™s maximum seeded value.

  ```sql
  select setval(pg_get_serial_sequence('"schema_name"."table_name"', 'column_name'), 3, true);
  ```

# Breaking Changes

> You must have TypeBox v1.0.0 or greater installed.

This version migrates `drizzle-typebox` from TypeBox 0.x (`@sinclair/typebox`) to TypeBox 1.x (`typebox`).

## Package Name Change

The TypeBox package has been renamed from `@sinclair/typebox` to `typebox`. Update your imports accordingly:

**Before (0.x):**

```ts
import { Type } from '@sinclair/typebox';
import { Value } from '@sinclair/typebox/value';
```

**After (1.x):**

```ts
import Type from 'typebox';
import Value from 'typebox/value';
```

## Peer Dependency Update

The peer dependency has been updated from `@sinclair/typebox: >=0.34.8` to `typebox: >=1.0.0`.

## Internal Changes

The following internal changes were made to support TypeBox 1.x:

- Replaced `Kind` symbol with `'~kind'` string property
- Replaced `TypeRegistry` with custom `Type.Base` classes (`TBuffer` and `TDate`)
- Replaced `Type.Date()` with custom `TDate` class
- Replaced `Type.RegExp()` with `Type.String({ pattern: ... })`

These changes are internal and should not affect the public API of `drizzle-typebox`. All schema generation functions (`createSelectSchema`, `createInsertSchema`, `createUpdateSchema`, `createSchemaFactory`) continue to work as before.

## Migration Guide

To migrate your project:

1. Uninstall the old package:

   ```bash
   pnpm remove @sinclair/typebox
   ```

2. Install the new package:

   ```bash
   pnpm add typebox@^1.0.0
   ```

3. Update your imports from `@sinclair/typebox` to `typebox`

4. Update `drizzle-typebox` to version 0.4.0:

   ```bash
   pnpm add drizzle-typebox@^0.4.0
   ```

For more details on TypeBox 1.0 changes, see the [TypeBox 1.0.0 Migration Guide](https://github.com/sinclairzx81/typebox/blob/main/changelog/1.0.0-migration.md).
